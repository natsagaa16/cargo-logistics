# Manual Activation Key System

## 1. –°–∏—Å—Ç–µ–º–∏–π–Ω –±“Ø—Ç—ç—Ü

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Code Generator    ‚îÇ    ‚îÇ   Fitness System 1   ‚îÇ    ‚îÇ   Fitness System 2   ‚îÇ
‚îÇ   (Central Tool)    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (localhost:3001)   ‚îÇ    ‚îÇ   (localhost:3002)   ‚îÇ
‚îÇ                     ‚îÇ    ‚îÇ                      ‚îÇ    ‚îÇ                      ‚îÇ
‚îÇ - Generate codes    ‚îÇ    ‚îÇ - Enter activation   ‚îÇ    ‚îÇ - Enter activation   ‚îÇ
‚îÇ - Track usage       ‚îÇ    ‚îÇ - Extend license     ‚îÇ    ‚îÇ - Extend license     ‚îÇ
‚îÇ - Manage clients    ‚îÇ    ‚îÇ - System ID: SYS001  ‚îÇ    ‚îÇ - System ID: SYS002  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## 2. Code Generator Tool (–¢—É—Å–¥–∞–∞ –ø—Ä–æ–≥—Ä–∞–º)

### Package.json
```json
{
  "name": "fitness-license-generator",
  "version": "1.0.0",
  "scripts": {
    "start": "node generator.js",
    "dev": "nodemon generator.js"
  },
  "dependencies": {
    "crypto": "^1.0.1",
    "sqlite3": "^5.1.6",
    "express": "^4.18.0",
    "uuid": "^9.0.0"
  }
}
```

### Generator Backend (generator.js)
```javascript
const crypto = require('crypto');
const sqlite3 = require('sqlite3').verbose();
const express = require('express');
const path = require('path');

const app = express();
app.use(express.json());
app.use(express.static('public'));

// Encryption key - –ë–£–°–î–ê–î ”®–ì”®–•–ì“Æ–ô!
const ENCRYPTION_KEY = 'your-32-char-secret-key-12345678'; // 32 —Ç—ç–º–¥—ç–≥—Ç
const ALGORITHM = 'aes-256-cbc';

// Database —Ö–æ–ª–±–æ–ª—Ç
const db = new sqlite3.Database('licenses.db');

// Table “Ø“Ø—Å–≥—ç—Ö
db.serialize(() => {
  db.run(`
    CREATE TABLE IF NOT EXISTS activation_codes (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      code VARCHAR(64) UNIQUE,
      system_id VARCHAR(20),
      months INTEGER,
      generated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      used_at DATETIME NULL,
      used_by_system VARCHAR(20) NULL,
      is_used BOOLEAN DEFAULT 0
    )
  `);
  
  db.run(`
    CREATE TABLE IF NOT EXISTS fitness_systems (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      system_id VARCHAR(20) UNIQUE,
      system_name VARCHAR(100),
      location VARCHAR(100),
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      last_activation DATETIME NULL
    )
  `);
});

// –ö–æ–¥ —à–∏—Ñ—Ä–ª—ç—Ö
function encrypt(text) {
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipher(ALGORITHM, ENCRYPTION_KEY);
  let encrypted = cipher.update(text, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  return iv.toString('hex') + ':' + encrypted;
}

// –ö–æ–¥ —Ç–∞–π–ª–∞—Ö
function decrypt(encryptedText) {
  const textParts = encryptedText.split(':');
  const iv = Buffer.from(textParts.shift(), 'hex');
  const encrypted = textParts.join(':');
  const decipher = crypto.createDecipher(ALGORITHM, ENCRYPTION_KEY);
  let decrypted = decipher.update(encrypted, 'hex', 'utf8');
  decrypted += decipher.final('utf8');
  return decrypted;
}

// Activation –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
function generateActivationCode(systemId, months = 12) {
  const data = {
    systemId: systemId,
    months: months,
    timestamp: Date.now(),
    expiry: Date.now() + (months * 30 * 24 * 60 * 60 * 1000) // months-—ã–≥ millisecond –±–æ–ª–≥–æ—Ö
  };
  
  const encrypted = encrypt(JSON.stringify(data));
  // 32 —Ç—ç–º–¥—ç–≥—Ç—Ç—ç–π –∫–æ–¥ –±–æ–ª–≥–æ—Ö
  return encrypted.substring(0, 32).toUpperCase();
}

// API Routes
app.post('/generate-code', (req, res) => {
  const { systemId, systemName, location, months = 12 } = req.body;
  
  if (!systemId || !systemName) {
    return res.status(400).json({ error: 'System ID –±–æ–ª–æ–Ω –Ω—ç—Ä —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π' });
  }
  
  // –°–∏—Å—Ç–µ–º–∏–π–≥ –±“Ø—Ä—Ç–≥—ç—Ö/—à–∏–Ω—ç—á–ª—ç—Ö
  db.run(`
    INSERT OR REPLACE INTO fitness_systems (system_id, system_name, location) 
    VALUES (?, ?, ?)
  `, [systemId, systemName, location]);
  
  // Activation –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
  const activationCode = generateActivationCode(systemId, months);
  
  // –ö–æ–¥—ã–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
  db.run(`
    INSERT INTO activation_codes (code, system_id, months) 
    VALUES (?, ?, ?)
  `, [activationCode, systemId, months], function(err) {
    if (err) {
      return res.status(500).json({ error: '–ö–æ–¥ —Ö–∞–¥–≥–∞–ª–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞' });
    }
    
    res.json({
      success: true,
      activationCode: activationCode,
      systemId: systemId,
      months: months,
      generatedAt: new Date().toISOString()
    });
  });
});

// –ö–æ–¥ —à–∞–ª–≥–∞—Ö (validation)
app.post('/validate-code', (req, res) => {
  const { code, systemId } = req.body;
  
  db.get(`
    SELECT * FROM activation_codes 
    WHERE code = ? AND system_id = ? AND is_used = 0
  `, [code, systemId], (err, row) => {
    if (err || !row) {
      return res.json({ valid: false, message: '–ö–æ–¥ –æ–ª–¥—Å–æ–Ω–≥“Ø–π —ç—Å–≤—ç–ª —Ö—ç—Ä—ç–≥–ª—ç–≥–¥—Å—ç–Ω –±–∞–π–Ω–∞' });
    }
    
    // –ö–æ–¥—ã–≥ —Ö—ç—Ä—ç–≥–ª—ç–≥–¥—Å—ç–Ω –±–æ–ª–≥–æ—Ö
    db.run(`
      UPDATE activation_codes 
      SET is_used = 1, used_at = CURRENT_TIMESTAMP, used_by_system = ?
      WHERE code = ?
    `, [systemId, code]);
    
    // –°–∏—Å—Ç–µ–º–∏–π–Ω —Å“Ø“Ø–ª–∏–π–Ω –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç–ª—Ç —à–∏–Ω—ç—á–ª—ç—Ö
    db.run(`
      UPDATE fitness_systems 
      SET last_activation = CURRENT_TIMESTAMP 
      WHERE system_id = ?
    `, [systemId]);
    
    res.json({
      valid: true,
      months: row.months,
      message: `${row.months} —Å–∞—Ä—ã–Ω –ª–∏—Ü–µ–Ω–∑ –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–ª—ç—ç`
    });
  });
});

// –ö–æ–¥ –∂–∞–≥—Å–∞–∞–ª—Ç —Ö–∞—Ä–∞—Ö
app.get('/codes', (req, res) => {
  db.all(`
    SELECT ac.*, fs.system_name, fs.location 
    FROM activation_codes ac
    LEFT JOIN fitness_systems fs ON ac.system_id = fs.system_id
    ORDER BY ac.generated_at DESC
  `, (err, rows) => {
    if (err) {
      return res.status(500).json({ error: '”®–≥”©–≥–¥”©–ª —Ç–∞—Ç–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞' });
    }
    res.json(rows);
  });
});

// –°–∏—Å—Ç–µ–º –∂–∞–≥—Å–∞–∞–ª—Ç
app.get('/systems', (req, res) => {
  db.all(`
    SELECT fs.*, 
           COUNT(ac.id) as total_codes,
           COUNT(CASE WHEN ac.is_used = 1 THEN 1 END) as used_codes
    FROM fitness_systems fs
    LEFT JOIN activation_codes ac ON fs.system_id = ac.system_id
    GROUP BY fs.id
    ORDER BY fs.created_at DESC
  `, (err, rows) => {
    if (err) {
      return res.status(500).json({ error: '”®–≥”©–≥–¥”©–ª —Ç–∞—Ç–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞' });
    }
    res.json(rows);
  });
});

app.listen(4000, () => {
  console.log('üîë License Generator –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–Ω–∞: http://localhost:4000');
});
```

## 3. Generator Frontend (public/index.html)

```html
<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness License Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-8">
        <h1 class="text-3xl font-bold text-center mb-8">üîë Fitness License Generator</h1>
        
        <!-- –ö–æ–¥ “Ø“Ø—Å–≥—ç—Ö —Ö—ç—Å—ç–≥ -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4">–®–∏–Ω—ç Activation Code “Ø“Ø—Å–≥—ç—Ö</h2>
            <div class="grid grid-cols-2 gap-4">
                <input type="text" id="systemId" placeholder="System ID (SYS001)" 
                       class="border rounded-lg p-3" maxlength="10">
                <input type="text" id="systemName" placeholder="–°–∏—Å—Ç–µ–º–∏–π–Ω –Ω—ç—Ä" 
                       class="border rounded-lg p-3">
                <input type="text" id="location" placeholder="–ë–∞–π—Ä—à–∏–ª" 
                       class="border rounded-lg p-3">
                <select id="months" class="border rounded-lg p-3">
                    <option value="1">1 —Å–∞—Ä</option>
                    <option value="3">3 —Å–∞—Ä</option>
                    <option value="6">6 —Å–∞—Ä</option>
                    <option value="12" selected>1 –∂–∏–ª</option>
                    <option value="24">2 –∂–∏–ª</option>
                </select>
            </div>
            <button onclick="generateCode()" 
                    class="w-full bg-blue-500 text-white rounded-lg p-3 mt-4 hover:bg-blue-600">
                –ö–æ–¥ “Ø“Ø—Å–≥—ç—Ö
            </button>
            
            <!-- “Æ—Ä –¥“Ø–Ω -->
            <div id="result" class="mt-4 hidden">
                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                    <h3 class="font-semibold text-green-800">–ê–º–∂–∏–ª—Ç—Ç–∞–π “Ø“Ø—Å–≥—ç–ª—ç—ç!</h3>
                    <div class="mt-2">
                        <p><strong>Activation Code:</strong></p>
                        <div class="bg-gray-800 text-green-400 font-mono text-lg p-3 rounded mt-2" 
                             id="generatedCode" onclick="copyToClipboard()">
                        </div>
                        <p class="text-sm text-gray-600 mt-2">–ö–æ–¥ –¥—ç—ç—Ä –¥–∞—Ä–∂ copy —Ö–∏–π–Ω—ç</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°–∏—Å—Ç–µ–º –∂–∞–≥—Å–∞–∞–ª—Ç -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-4">–ë“Ø—Ä—Ç–≥—ç–≥–¥—Å—ç–Ω —Å–∏—Å—Ç–µ–º“Ø“Ø–¥</h2>
            <div id="systemsList"></div>
        </div>
    </div>

    <script>
        async function generateCode() {
            const systemId = document.getElementById('systemId').value;
            const systemName = document.getElementById('systemName').value;
            const location = document.getElementById('location').value;
            const months = document.getElementById('months').value;
            
            if (!systemId || !systemName) {
                alert('System ID –±–æ–ª–æ–Ω –Ω—ç—Ä –æ—Ä—É—É–ª–Ω–∞ —É—É!');
                return;
            }
            
            try {
                const response = await fetch('/generate-code', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ systemId, systemName, location, months: parseInt(months) })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('generatedCode').textContent = data.activationCode;
                    document.getElementById('result').classList.remove('hidden');
                    loadSystems(); // –ñ–∞–≥—Å–∞–∞–ª—Ç —à–∏–Ω—ç—á–ª—ç—Ö
                } else {
                    alert('–ê–ª–¥–∞–∞: ' + data.error);
                }
            } catch (error) {
                alert('–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: ' + error.message);
            }
        }
        
        function copyToClipboard() {
            const code = document.getElementById('generatedCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('–ö–æ–¥ copy —Ö–∏–π–≥–¥–ª—ç—ç!');
            });
        }
        
        async function loadSystems() {
            try {
                const response = await fetch('/systems');
                const systems = await response.json();
                
                const html = systems.map(system => `
                    <div class="border-b border-gray-200 py-3 flex justify-between">
                        <div>
                            <div class="font-semibold">${system.system_id} - ${system.system_name}</div>
                            <div class="text-sm text-gray-600">${system.location || '–ë–∞–π—Ä—à–∏–ª —Ç–æ–¥–æ—Ä—Ö–æ–π–≥“Ø–π'}</div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm">–ù–∏–π—Ç –∫–æ–¥: ${system.total_codes}</div>
                            <div class="text-sm">–•—ç—Ä—ç–≥–ª—ç–≥–¥—Å—ç–Ω: ${system.used_codes}</div>
                        </div>
                    </div>
                `).join('');
                
                document.getElementById('systemsList').innerHTML = html;
            } catch (error) {
                console.error('–°–∏—Å—Ç–µ–º –∞—á–∞–∞–ª–∞—Ö–∞–¥ –∞–ª–¥–∞–∞:', error);
            }
        }
        
        // –•—É—É–¥–∞—Å –∞—á–∞–∞–ª–∞–≥–¥–∞—Ö–∞–¥ —Å–∏—Å—Ç–µ–º –∂–∞–≥—Å–∞–∞–ª—Ç —Ç–∞—Ç–∞—Ö
        loadSystems();
    </script>
</body>
</html>
```

## 4. Fitness System Integration

### Fitness —Å–∏—Å—Ç–µ–º–∏–π–Ω –¥–æ—Ç–æ—Ä (license.js)
```javascript
const crypto = require('crypto');
const fs = require('fs');
const path = require('path');

const ENCRYPTION_KEY = 'your-32-char-secret-key-12345678'; // Generator-—Ç–æ–π–≥–æ–æ –∏–∂–∏–ª
const ALGORITHM = 'aes-256-cbc';
const LICENSE_FILE = path.join(__dirname, '.license');

// –ö–æ–¥ —Ç–∞–π–ª–∞—Ö (Generator-—Ç–æ–π–≥–æ–æ –∏–∂–∏–ª)
function decrypt(encryptedText) {
  try {
    const textParts = encryptedText.split(':');
    const iv = Buffer.from(textParts.shift(), 'hex');
    const encrypted = textParts.join(':');
    const decipher = crypto.createDecipher(ALGORITHM, ENCRYPTION_KEY);
    let decrypted = decipher.update(encrypted, 'hex', 'utf8');
    decrypted += decipher.final('utf8');
    return decrypted;
  } catch (error) {
    return null;
  }
}

// –°–∏—Å—Ç–µ–º–∏–π–Ω ID –∞–≤–∞—Ö (MAC address based)
function getSystemId() {
  const os = require('os');
  const networkInterfaces = os.networkInterfaces();
  
  // –ê–Ω—Ö–Ω—ã network interface-–∏–π–Ω MAC address –∞–≤–∞—Ö
  for (const interfaceName in networkInterfaces) {
    const interfaces = networkInterfaces[interfaceName];
    for (const interface of interfaces) {
      if (!interface.internal && interface.mac !== '00:00:00:00:00:00') {
        return 'SYS' + interface.mac.replace(/:/g, '').substring(0, 6).toUpperCase();
      }
    }
  }
  
  return 'SYS' + Math.random().toString(36).substring(2, 8).toUpperCase();
}

// License —Ñ–∞–π–ª —É–Ω—à–∏—Ö
function readLicense() {
  try {
    if (fs.existsSync(LICENSE_FILE)) {
      const licenseData = fs.readFileSync(LICENSE_FILE, 'utf8');
      return JSON.parse(licenseData);
    }
  } catch (error) {
    console.error('License —Ñ–∞–π–ª —É–Ω—à–∏—Ö–∞–¥ –∞–ª–¥–∞–∞:', error);
  }
  return null;
}

// License —Ñ–∞–π–ª –±–∏—á–∏—Ö
function writeLicense(licenseData) {
  try {
    fs.writeFileSync(LICENSE_FILE, JSON.stringify(licenseData, null, 2));
    return true;
  } catch (error) {
    console.error('License —Ñ–∞–π–ª –±–∏—á–∏—Ö—ç–¥ –∞–ª–¥–∞–∞:', error);
    return false;
  }
}

// Activation –∫–æ–¥ –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
async function activateCode(activationCode) {
  const systemId = getSystemId();
  
  try {
    // Central server-—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö (optional)
    const response = await fetch('http://localhost:4000/validate-code', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ code: activationCode, systemId })
    });
    
    const validation = await response.json();
    if (!validation.valid) {
      throw new Error(validation.message);
    }
  } catch (error) {
    // Offline —Ä–µ–∂–∏–º–¥ –∫–æ–¥ —à–∞–ª–≥–∞—Ö
    console.log('Online validation –∞–ª–¥–∞–∞, offline —à–∞–ª–≥–∞–∂ –±–∞–π–Ω–∞...');
  }
  
  // –ö–æ–¥—ã–≥ —Ç–∞–π–ª–∞—Ö
  const decryptedData = decrypt(activationCode);
  if (!decryptedData) {
    throw new Error('–ë—É—Ä—É—É activation –∫–æ–¥');
  }
  
  const codeData = JSON.parse(decryptedData);
  
  // –°–∏—Å—Ç–µ–º ID —à–∞–ª–≥–∞—Ö
  if (codeData.systemId !== systemId) {
    throw new Error('–≠–Ω—ç –∫–æ–¥ —Ç—É—Ö–∞–π–Ω —Å–∏—Å—Ç–µ–º–¥ –∑–æ—Ä–∏—É–ª–∞–≥–¥–∞–∞–≥“Ø–π –±–∞–π–Ω–∞');
  }
  
  // –•—É–≥–∞—Ü–∞–∞ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
  const currentDate = new Date();
  const expiryDate = new Date(currentDate.getTime() + (codeData.months * 30 * 24 * 60 * 60 * 1000));
  
  // License –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
  const licenseData = {
    systemId: systemId,
    activatedAt: currentDate.toISOString(),
    expiryDate: expiryDate.toISOString(),
    months: codeData.months,
    activationCode: activationCode
  };
  
  if (writeLicense(licenseData)) {
    return {
      success: true,
      message: `${codeData.months} —Å–∞—Ä—ã–Ω –ª–∏—Ü–µ–Ω–∑ –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–ª—ç—ç`,
      expiryDate: expiryDate.toISOString()
    };
  } else {
    throw new Error('License —Ö–∞–¥–≥–∞–ª–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞');
  }
}

// License —Å—Ç–∞—Ç—É—Å —à–∞–ª–≥–∞—Ö
function checkLicense() {
  const license = readLicense();
  
  if (!license) {
    return { valid: false, message: 'License –æ–ª–¥—Å–æ–Ω–≥“Ø–π' };
  }
  
  const expiryDate = new Date(license.expiryDate);
  const currentDate = new Date();
  
  if (currentDate > expiryDate) {
    return { 
      valid: false, 
      message: 'License —Ö—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω –±–∞–π–Ω–∞',
      expiredAt: license.expiryDate
    };
  }
  
  const daysLeft = Math.ceil((expiryDate - currentDate) / (1000 * 60 * 60 * 24));
  
  return {
    valid: true,
    message: `License –∏–¥—ç–≤—Ö—Ç—ç–π –±–∞–π–Ω–∞. ${daysLeft} —Ö–æ–Ω–æ–≥ “Ø–ª–¥—Å—ç–Ω.`,
    expiryDate: license.expiryDate,
    daysLeft: daysLeft
  };
}

module.exports = {
  activateCode,
  checkLicense,
  getSystemId
};
```

## 5. Frontend –¥—ç—ç—Ä –∞—à–∏–≥–ª–∞—Ö

### Superadmin –ø–∞–Ω–µ–ª–¥ license —Ö—ç—Å—ç–≥
```jsx
const LicenseManager = () => {
  const [activationCode, setActivationCode] = useState('');
  const [licenseStatus, setLicenseStatus] = useState(null);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    checkLicenseStatus();
  }, []);

  const checkLicenseStatus = async () => {
    try {
      const response = await fetch('/api/license/status');
      const status = await response.json();
      setLicenseStatus(status);
    } catch (error) {
      console.error('License —Å—Ç–∞—Ç—É—Å —à–∞–ª–≥–∞—Ö–∞–¥ –∞–ª–¥–∞–∞:', error);
    }
  };

  const activateLicense = async () => {
    if (!activationCode.trim()) {
      alert('Activation –∫–æ–¥ –æ—Ä—É—É–ª–Ω–∞ —É—É!');
      return;
    }

    setLoading(true);
    try {
      const response = await fetch('/api/license/activate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ activationCode })
      });

      const result = await response.json();
      
      if (result.success) {
        alert(result.message);
        setActivationCode('');
        checkLicenseStatus();
      } else {
        alert('–ê–ª–¥–∞–∞: ' + result.message);
      }
    } catch (error) {
      alert('–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: ' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="bg-white rounded-xl shadow-lg p-6">
      <h2 className="text-2xl font-bold mb-6">üîë License —É–¥–∏—Ä–¥–ª–∞–≥–∞</h2>
      
      {/* –û–¥–æ–æ–≥–∏–π–Ω —Å—Ç–∞—Ç—É—Å */}
      {licenseStatus && (
        <div className={`p-4 rounded-lg mb-6 ${
          licenseStatus.valid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'
        }`}>
          <h3 className={`font-semibold ${licenseStatus.valid ? 'text-green-800' : 'text-red-800'}`}>
            License —Å—Ç–∞—Ç—É—Å
          </h3>
          <p className={licenseStatus.valid ? 'text-green-700' : 'text-red-700'}>
            {licenseStatus.message}
          </p>
          {licenseStatus.valid && licenseStatus.daysLeft <= 30 && (
            <p className="text-orange-600 font-medium mt-2">
              ‚ö†Ô∏è License —É–¥–∞—Ö–≥“Ø–π –¥—É—É—Å–∞—Ö –≥—ç–∂ –±–∞–π–Ω–∞!
            </p>
          )}
        </div>
      )}

      {/* Activation –∫–æ–¥ –æ—Ä—É—É–ª–∞—Ö */}
      <div className="space-y-4">
        <div>
          <label className="block text-sm font-medium text-gray-700 mb-2">
            Activation Code
          </label>
          <input
            type="text"
            value={activationCode}
            onChange={(e) => setActivationCode(e.target.value.toUpperCase())}
            placeholder="32 —Ç—ç–º–¥—ç–≥—Ç—Ç—ç–π activation –∫–æ–¥ –æ—Ä—É—É–ª–Ω–∞ —É—É"
            className="w-full p-3 border border-gray-300 rounded-lg font-mono text-center"
            maxLength={32}
          />
        </div>
        
        <button
          onClick={activateLicense}
          disabled={loading || !activationCode.trim()}
          className="w-full bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-400"
        >
          {loading ? '–ò–¥—ç–≤—Ö–∂“Ø“Ø–ª–∂ –±–∞–π–Ω–∞...' : 'License –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö'}
        </button>
      </div>

      {/* –°–∏—Å—Ç–µ–º–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª */}
      <div className="mt-6 p-4 bg-gray-50 rounded-lg">
        <h4 className="font-semibold text-gray-700 mb-2">–°–∏—Å—Ç–µ–º–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª</h4>
        <p className="text-sm text-gray-600">
          System ID: <span className="font-mono">{licenseStatus?.systemId || '–¢–æ–¥–æ—Ä—Ö–æ–π–≥“Ø–π'}</span>
        </p>
      </div>
    </div>
  );
};
```

## 6. –ê—à–∏–≥–ª–∞—Ö –∑–∞–∞–≤—Ä—á–∏–ª–≥–∞–∞

### –•—ç—Ä—ç–≥–ª—ç—Ö –¥–∞—Ä–∞–∞–ª–∞–ª:
1. **License Generator —ç—Ö–ª“Ø“Ø–ª—ç—Ö**: `node generator.js`
2. **Fitness —Å–∏—Å—Ç–µ–º –±“Ø—Ä—Ç–≥—ç—Ö**: http://localhost:4000 –¥—ç—ç—Ä
3. **Activation –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö**: System ID, –Ω—ç—Ä –æ—Ä—É—É–ª–∂ –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
4. **–ö–æ–¥ –æ–ª–≥–æ—Ö**: –§–∏—Ç–Ω–µ—Å—Å —Ç”©–≤–¥ –∫–æ–¥ –∏–ª–≥—ç—ç—Ö
5. **–ê–∫—Ç–∏–≤—á–ª–∞—Ö**: Superadmin –Ω—ç–≤—Ç—ç—Ä—á –∫–æ–¥ –æ—Ä—É—É–ª–∞—Ö

### –ê—é—É–ª–≥“Ø–π –±–∞–π–¥–∞–ª:
- **ENCRYPTION_KEY —Å—É—É—Ä–∏–∞ –Ω—É—É—Ü–ª–∞–ª!**
- Generator –∑”©–≤—Ö”©–Ω –∏—Ç–≥—ç–º–∂–ª—ç–≥–¥—Å—ç–Ω —Ö“Ø–º“Ø“Ø—Å—Ç —Ö–∞–Ω–¥–∞—Ö
- –ö–æ–¥ –Ω—ç–≥ —É–¥–∞–∞ –ª –∞—à–∏–≥–ª–∞–≥–¥–∞–Ω–∞
- –°–∏—Å—Ç–µ–º–∏–π–Ω ID machine-specific

–≠–Ω—ç —Å–∏—Å—Ç–µ–º –∞–∂–∏–ª–ª–∞—Ö–∞–¥ –±—ç–ª—ç–Ω “Ø“Ø?




–≠–Ω—ç Manual Activation Key —Å–∏—Å—Ç–µ–º–∏–π–Ω –¥–∞–≤—É—É —Ç–∞–ª—É—É–¥:
‚úÖ –°–∏—Å—Ç–µ–º–∏–π–Ω –æ–Ω—Ü–ª–æ–≥—É—É–¥:
üîí –ê—é—É–ª–≥“Ø–π –±–∞–π–¥–∞–ª:

AES-256 —à–∏—Ñ—Ä–ª—ç–ª—Ç
Machine-specific System ID (MAC address –∞—à–∏–≥–ª–∞–Ω)
–ö–æ–¥ –Ω—ç–≥ —É–¥–∞–∞ –ª –∞—à–∏–≥–ª–∞–≥–¥–∞–Ω–∞
Central tracking

üåê Centralized —É–¥–∏—Ä–¥–ª–∞–≥–∞:

–ù—ç–≥ Gas Generator –ø—Ä–æ–≥—Ä–∞–º
–û–ª–æ–Ω localhost —Å–∏—Å—Ç–µ–º–¥ –∫–æ–¥ —Ç–∞—Ä–∞–∞—Ö
Web interface (—Ö—è–ª–±–∞—Ä –∞—à–∏–≥–ª–∞—Ö)
SQLite database (–ø–æ—Ä—Ç–∞–±–ª)

üìä Tracking & Monitoring:

–ê–ª—å –∫–æ–¥ —Ö—ç—Ä—ç–≥–ª—ç–≥–¥—Å—ç–Ω
–•—ç–∑—ç—ç –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—Å—ç–Ω
–°–∏—Å—Ç–µ–º –±“Ø—Ä–∏–π–Ω —Ç”©–ª”©–≤
–•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å–∞—Ö —Å–∞–Ω—É—É–ª–≥–∞

üîß –•—ç—Ä—ç–≥–ª—ç—Ö—ç–¥ —Ö—è–ª–±–∞—Ä:

Copy/paste activation –∫–æ–¥
Superadmin –∑”©–≤—Ö”©–Ω –∫–æ–¥ –æ—Ä—É—É–ª–Ω–∞
–ê–≤—Ç–æ–º–∞—Ç license —Ñ–∞–π–ª “Ø“Ø—Å–≥—ç—Ö
Offline –∞–∂–∏–ª–ª–∞—Ö —á–∞–¥–≤–∞—Ä—Ç–∞–π

üöÄ –•—ç—Ä—ç–≥–ª—ç—Ö –ø—Ä–æ—Ü–µ—Å—Å:
1. License Generator —ç—Ö–ª“Ø“Ø–ª—ç—Ö (localhost:4000)
2. Fitness —Å–∏—Å—Ç–µ–º–∞ –±“Ø—Ä—Ç–≥—ç—Ö (SYS001, SYS002...)  
3. Activation –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö (32 —Ç—ç–º–¥—ç–≥—Ç)
4. –ö–æ–¥—ã–≥ fitness —Ç”©–≤–¥ –∏–ª–≥—ç—ç—Ö
5. Superadmin –Ω—ç–≤—Ç—ç—Ä—á –∫–æ–¥ –æ—Ä—É—É–ª–∂ –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
6. 1 –∂–∏–ª–∏–π–Ω —ç—Ä—Ö –æ–ª–≥–æ–≥–¥–æ–Ω–æ
‚ùì –î–∞—Ä–∞–∞–≥–∏–π–Ω –∞–ª—Ö–º—É—É–¥:
–¢–∞ —è–º–∞—Ä —Ö—ç—Å–≥–∏–π–≥ ”©–º–Ω”© –Ω—å —Ö–∏–π—Ö–∏–π–≥ —Ö“Ø—Å—á –±–∞–π–Ω–∞ –≤—ç?

License Generator –ø—Ä–æ–≥—Ä–∞–º - –ö–æ–¥ “Ø“Ø—Å–≥—ç—Ö tool —Ö–∏–π—Ö
Fitness —Å–∏—Å—Ç–µ–º–∏–π–Ω database - “Æ–Ω–¥—Å—ç–Ω schemas “Ø“Ø—Å–≥—ç—Ö
Backend API - Express server –±–æ–ª–æ–Ω routes
Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É—É–¥ - React UI —Ö–∏–π—Ö
RBAC —Å–∏—Å—Ç–µ–º - Superadmin/Admin —ç—Ä—Ö

–≠—Å–≤—ç–ª:

License —Å–∏—Å—Ç–µ–º–∏–π–Ω —Ç—É—Å–≥–∞–π —Ö—ç—Å—ç–≥ (–∂–∏—à—ç—ç: System ID –≥–µ–Ω–µ—Ä–∞—Ç)
Database schema-–≥ –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ö–∞—Ä–∞—Ö
Frontend dashboard –¥–∏–∑–∞–π–Ω

–ê–ª—å —Ö—ç—Å–≥—ç—ç—Å —ç—Ö–ª—ç—Ö –≤—ç? –≠—Å–≤—ç–ª license —Å–∏—Å—Ç–µ–º–∏–π–Ω —Ç–∞–ª–∞–∞—Ä –Ω—ç–º—ç–ª—Ç –∞—Å—É—É–ª—Ç –±–∞–π–Ω–∞ —É—É?









# –§–∏—Ç–Ω–µ—Å—Å –ø—Ä–æ–≥—Ä–∞–º - –ë–∞–≥–∞—Å–≥–∞—Å–∞–Ω —à–∞–∞—Ä–¥–ª–∞–≥–∞

## 1. “Æ–Ω–¥—Å—ç–Ω —Ñ—É–Ω–∫—Ü—É—É–¥

### –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –±“Ø—Ä—Ç–≥—ç–ª
- **–•—É–≤–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª**: –ù—ç—Ä, —É—Ç–∞—Å, –∏–º—ç–π–ª
- **8 –æ—Ä–æ–Ω—Ç–æ–π –∫–æ–¥**: –î–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∫–æ–¥
- **–ë–∞—Ä–∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö**: –ö–æ–¥ –±–∞—Ä–∫–æ–¥ –±–æ–ª–≥–æ–Ω —Ö—É–≤–∏—Ä–≥–∞—Ö
- **–ö–∞—Ä—Ç —Ö—ç–≤–ª—ç—Ö**: –ë–∞—Ä–∫–æ–¥ –±“Ø—Ö–∏–π –∫–∞—Ä—Ç
- **–ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö**: –ó–∞–∞–≤–∞–ª –±–∏—à, –æ—Ä—É—É–ª–∞–∞–≥“Ø–π –±–æ–ª default profile –∑—É—Ä–∞–≥ –∞–≤—Ç–æ–º–∞—Ç “Ø“Ø—Å–≥—ç—Ö
- **–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö**:
  - –¢”©–ª–±”©—Ä–∏–π–Ω —Ç“Ø“Ø—Ö
  - –°—É–Ω–≥–∞–ª—Ç–∏–π–Ω —Ç–æ–æ  
  - –ù–∏–π—Ç –∏—Ä—Ü–∏–π–Ω —Ç–æ–æ
  - –ë—É—Å–∞–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –º—ç–¥—ç—ç–ª—ç–ª

### –¢”©–ª–±”©—Ä–∏–π–Ω —Å–∏—Å—Ç–µ–º  
- **–¢”©–ª–±”©—Ä–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª**: –î“Ø–Ω, –æ–≥–Ω–æ–æ
- **–î—É—É—Å–∞—Ö —Ö—É–≥–∞—Ü–∞–∞**: –ì–∏—à“Ø“Ø–Ω—á–ª—ç–ª–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞
- **–¢”©–ª–±”©—Ä–∏–π–Ω —Ç“Ø“Ø—Ö**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –ø—Ä–æ—Ñ–∞–π–ª–¥ —Ö–∞–¥–≥–∞–ª–∞—Ö
- **–•”©–Ω–≥”©–ª”©–ª—Ç/–£—Ä–∞–º—à—É—É–ª–∞–ª**: –•”©–Ω–≥”©–ª”©–ª—Ç –æ–ª–≥–æ—Ö –±–æ–ª–æ–º–∂—Ç–æ–π
- **–•—É–≥–∞—Ü–∞–∞ —Å—É–Ω–≥–∞—Ö**: Manual —Å—É–Ω–≥–∞–ª—Ç

### –≠–ª—Å—ç–ª—Ç–∏–π–Ω —Å–∏—Å—Ç–µ–º
- **–ë–∞—Ä–∫–æ–¥ —É–Ω—à—É—É–ª–∞—Ö**: –ö–∞—Ä—Ç scanner-—ç—ç—Ä —É–Ω—à—É—É–ª–∞—Ö
- **Dashboard –¥—ç—ç—Ä –±–∞—Ä–∫–æ–¥ —Ç–∞–ª–±–∞—Ä**: –ö–æ–¥—ã–≥ —É–Ω—à–∏–≥—á–∞–∞—Ä —à—É—É–¥ –æ—Ä—É—É–ª–∞—Ö
- **–•—É–≥–∞—Ü–∞–∞ —à–∞–ª–≥–∞—Ö**: –î—É—É—Å—Å–∞–Ω —ç—Å—ç—Ö —à–∞–ª–≥–∞—Ö  
- **–•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å–∞–∞–≥“Ø–π**: –®—É—É–¥ –Ω—ç–≤—Ç—Ä“Ø“Ø–ª—ç—Ö
- **–•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω**: 
  - Sound alert –¥—É—É–≥–∞—Ä–∞—Ö
  - –ê–Ω—Ö–∞–∞—Ä—É—É–ª–≥—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª –¥—ç–ª–≥—ç—Ü—ç–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞—Ö
  - "–¢–∞–Ω—ã —Ö—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω –±–∞–π–Ω–∞. –¢”©–ª–±”©—Ä”©”© —Ç”©–ª–∂ —ç—Ä—Ö—ç—ç –Ω—ç—ç–ª–≥—ç–Ω—ç “Ø“Ø?"

### RBAC (Role-Based Access Control)
- **Superadmin**: –°–∏—Å—Ç–µ–º–∏–π–Ω —Ö–∞–º–≥–∏–π–Ω ”©–Ω–¥”©—Ä —ç—Ä—Ö
  - –°–∏—Å—Ç–µ–º –∞–¥–º–∏–Ω—É—É–¥—ã–≥ –±“Ø—Ä—Ç–≥—ç—Ö
  - –ë“Ø—Ö —Ñ—É–Ω–∫—Ü—ç–¥ —Ö–∞–Ω–¥–∞—Ö —ç—Ä—Ö—Ç—ç–π
- **–°–∏—Å—Ç–µ–º –∞–¥–º–∏–Ω**: 
  - –•—ç—Ä—ç–≥–ª—ç–≥—á“Ø“Ø–¥–∏–π–≥ –±“Ø—Ä—Ç–≥—ç—Ö
  - –¢”©–ª–±”©—Ä, –∏—Ä—Ü —É–¥–∏—Ä–¥–∞—Ö
  - –¢–∞–π–ª–∞–Ω “Ø–∑—ç—Ö
- **–•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —ç—Ä—Ö–∏–π–Ω —É–¥–∏—Ä–¥–ª–∞–≥–∞**: 
  - –≠—Ä—Ö –æ–ª–≥–æ—Ö/—Ö–∞—Å–∞—Ö
  - –≠—Ä—Ö–∏–π–Ω —Ç“Ø–≤—à–∏–Ω —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö

### Dashboard –∫–∞—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫
- **–ù–∏–π—Ç “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á**: –ë“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ç–æ–æ
- **”®–Ω”©”©–¥—Ä–∏–π–Ω –∏—Ä—Ü**: –ö–∞—Ä—Ç —É–Ω—à—É—É–ª–∂ –æ—Ä—Å–æ–Ω —Ç–æ–æ  
- **–°–∞—Ä—ã–Ω “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á**: –°–∞—Ä—ã–Ω –Ω–∏–π—Ç –∏—Ä—Ü
- **–•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω**: Expired —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ç–æ–æ

## 2. Sidebar —Ü—ç—Å“Ø“Ø–¥

### üè† Dashboard
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫ –∫–∞—Ä—Ç—É—É–¥
- –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç —Ö–∞—Ä–∞–≥–¥–∞—Ö

### üë• –•—ç—Ä—ç–≥–ª—ç–≥—á —É–¥–∏—Ä–¥–∞—Ö  
- **–ë“Ø—Ä—Ç–≥—ç–ª “Ø“Ø—Å–≥—ç—Ö**: –®–∏–Ω—ç —Ö—ç—Ä—ç–≥–ª—ç–≥—á –Ω—ç–º—ç—Ö
- **–•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç**: –ë“Ø—Ö —Ö—ç—Ä—ç–≥–ª—ç–≥—á —Ö–∞—Ä–∞—Ö
- **–•–∞–π–ª—Ç/–®“Ø“Ø–ª—Ç**: –ù—ç—Ä, —É—Ç–∞—Å, –∫–æ–¥-–æ–æ—Ä —Ö–∞–π—Ö
- **–ü—Ä–æ—Ñ–∞–π–ª –∑–∞—Å–∞—Ö**: –ú—ç–¥—ç—ç–ª—ç–ª —à–∏–Ω—ç—á–ª—ç—Ö

### üí≥ –¢”©–ª–±”©—Ä —É–¥–∏—Ä–¥–∞—Ö
- **–¢”©–ª–±”©—Ä –±“Ø—Ä—Ç–≥—ç—Ö**: –®–∏–Ω—ç —Ç”©–ª–±”©—Ä –Ω—ç–º—ç—Ö  
- **–¢”©–ª–±”©—Ä–∏–π–Ω —Ç“Ø“Ø—Ö**: –ë“Ø—Ö —Ç”©–ª–±”©—Ä–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
- **–•—É–≥–∞—Ü–∞–∞ —Å—É–Ω–≥–∞—Ö**: Manual extension
- **Expired —Ö—ç—Ä—ç–≥–ª—ç–≥—á**: –•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω –∂–∞–≥—Å–∞–∞–ª—Ç

### üìä –¢–∞–π–ª–∞–Ω/–°—Ç–∞—Ç–∏—Å—Ç–∏–∫
- **”®–¥—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω**: –ò—Ä—Ü, –æ—Ä–ª–æ–≥–æ
- **–°–∞—Ä—ã–Ω —Ç–∞–π–ª–∞–Ω**: –ù–∏–π—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫  
- **–ñ–∏–ª–∏–π–Ω —Ç–∞–π–ª–∞–Ω**: –ï—Ä”©–Ω—Ö–∏–π “Ø–∑“Ø“Ø–ª—ç–ª—Ç
- **–≠–∫—Å–ø–æ—Ä—Ç**: PDF/Excel —Ç–∞—Ç–∞—Ö

### üîç –ë–∞—Ä–∫–æ–¥ —É–Ω—à—É—É–ª–∞—Ö
- **Scanner –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ö–∞—Ä—Ç —É–Ω—à—É—É–ª–∞—Ö —Ö—ç—Å—ç–≥
- **Manual –∫–æ–¥ –æ—Ä—É—É–ª–∞—Ö**: –ì–∞—Ä–∞–∞—Ä –∫–æ–¥ —à–∏–≤—ç—Ö
- **–ò—Ä—Ü–∏–π–Ω —Ç“Ø“Ø—Ö**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –æ—Ä–æ—Ö/–≥–∞—Ä–∞—Ö –ª–æ–≥

### ‚öôÔ∏è –¢–æ—Ö–∏—Ä–≥–æ–æ  
- **–°–∏—Å—Ç–µ–º–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ**: –ï—Ä”©–Ω—Ö–∏–π —Ç–æ—Ö–∏—Ä–≥–æ–æ
- **–•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —ç—Ä—Ö**: –ê–¥–º–∏–Ω —ç—Ä—Ö —É–¥–∏—Ä–¥–∞—Ö
- **Backup/Restore**: ”®–≥”©–≥–¥”©–ª –Ω”©”©—à–ª”©—Ö
- **–ö–∞—Ä—Ç —Ö—ç–≤–ª—ç—Ö**: –ë–∞—Ä–∫–æ–¥ –∫–∞—Ä—Ç —Ö—ç–≤–ª—ç—Ö —Ç–æ—Ö–∏—Ä–≥–æ–æ

## 3. Database Schema (MySQL)

```sql
-- –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö“Ø—Å–Ω—ç–≥—Ç
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_code VARCHAR(8) UNIQUE NOT NULL,
  name VARCHAR(100) NOT NULL,
  phone VARCHAR(20),
  email VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- –¢”©–ª–±”©—Ä–∏–π–Ω —Ö“Ø—Å–Ω—ç–≥—Ç  
CREATE TABLE payments (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  amount DECIMAL(10,2) NOT NULL,
  payment_date DATE NOT NULL,
  expiry_date DATE NOT NULL,
  status ENUM('active', 'expired') DEFAULT 'active',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- –ò—Ä—Ü–∏–π–Ω —Ö“Ø—Å–Ω—ç–≥—Ç
CREATE TABLE attendance (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  scan_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  scan_date DATE NOT NULL,
  status ENUM('allowed', 'denied') NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

## 4. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É—É–¥

### Dashboard Cards
```jsx
// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫ –∫–∞—Ä—Ç—É—É–¥
const StatCard = ({ title, value, icon, color }) => (
  <div className={`bg-white rounded-xl shadow-lg p-6 border-l-4 ${color} transform hover:scale-105 transition-transform duration-200`}>
    <div className="flex items-center justify-between">
      <div>
        <h3 className="text-gray-500 text-sm font-medium">{title}</h3>
        <p className="text-3xl font-bold text-gray-800 mt-2">{value}</p>
      </div>
      <div className={`p-3 rounded-full ${color.replace('border-', 'bg-')} bg-opacity-10`}>
        {icon}
      </div>
    </div>
  </div>
);
```

### –ë–∞—Äcode –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
```javascript
// 8 –æ—Ä–æ–Ω—Ç–æ–π –¥–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
const generateUserCode = async () => {
  let code;
  let exists = true;
  
  while (exists) {
    code = Math.floor(10000000 + Math.random() * 90000000).toString();
    const result = await db.query('SELECT id FROM users WHERE user_code = ?', [code]);
    exists = result.length > 0;
  }
  
  return code;
};

// –ë–∞—Ä–∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
const generateBarcode = (code) => {
  return JsBarcode.getBase64('CODE128', code, {
    width: 2,
    height: 80,
    fontSize: 14
  });
};
```

## 5. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–π–Ω —Å—Ç–µ–∫

### Backend Dependencies
```json
{
  "express": "^4.18.0",
  "mysql2": "^3.6.0", 
  "bcryptjs": "^2.4.3",
  "jsonwebtoken": "^9.0.0",
  "jsbarcode": "^3.11.5",
  "cors": "^2.8.5",
  "dotenv": "^16.3.1"
}
```

### Frontend Dependencies  
```json
{
  "react": "^18.2.0",
  "react-router-dom": "^6.15.0",
  "tailwindcss": "^3.3.0",
  "axios": "^1.5.0",
  "react-icons": "^4.11.0",
  "react-barcode-reader": "^0.0.2"
}
```

## 6. –•—É–≥–∞—Ü–∞–∞ —Ç–æ–æ—Ü–æ–æ–ª–æ–ª

- **MVP —Ö—É–≤–∏–ª–±–∞—Ä**: 3-4 –¥–æ–ª–æ–æ —Ö–æ–Ω–æ–≥
- **–¢–µ—Å—Ç**: 1 –¥–æ–ª–æ–æ —Ö–æ–Ω–æ–≥  
- **Deployment**: 2-3 —Ö–æ–Ω–æ–≥

**–ù–∏–π—Ç**: 5-6 –¥–æ–ª–æ–æ —Ö–æ–Ω–æ–≥

## 7. Dashboard UI –¥–∏–∑–∞–π–Ω

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫ –∫–∞—Ä—Ç—É—É–¥
```jsx
// –ì–æ—ë –¥–∏–∑–∞–π–Ω—Ç–∞–π –∫–∞—Ä—Ç—É—É–¥
const statsCards = [
  {
    title: "–ù–∏–π—Ç “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á",
    value: "1,234", 
    icon: "üë•",
    color: "border-blue-500",
    bgColor: "bg-blue-50"
  },
  {
    title: "”®–Ω”©”©–¥—Ä–∏–π–Ω –∏—Ä—Ü", 
    value: "89",
    icon: "üìÖ", 
    color: "border-green-500",
    bgColor: "bg-green-50"
  },
  {
    title: "–°–∞—Ä—ã–Ω “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á",
    value: "2,567",
    icon: "üìä",
    color: "border-purple-500", 
    bgColor: "bg-purple-50"
  },
  {
    title: "–•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω",
    value: "23",
    icon: "‚ö†Ô∏è",
    color: "border-red-500",
    bgColor: "bg-red-50"  
  }
];
```

### Layout –±“Ø—Ç—ç—Ü
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Header (–§–∏—Ç–Ω–µ—Å—Å —Ç”©–≤ —É–¥–∏—Ä–¥–ª–∞–≥—ã–Ω —Å–∏—Å—Ç–µ–º)                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Sidebar     ‚îÇ Dashboard                                 ‚îÇ
‚îÇ - Dashboard ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ - –•—ç—Ä—ç–≥–ª—ç–≥—á ‚îÇ ‚îÇ üë•  ‚îÇ ‚îÇ üìÖ  ‚îÇ ‚îÇ üìä  ‚îÇ ‚îÇ ‚ö†Ô∏è  ‚îÇ          ‚îÇ  
‚îÇ - –¢”©–ª–±”©—Ä    ‚îÇ ‚îÇ1234 ‚îÇ ‚îÇ 89  ‚îÇ ‚îÇ2567 ‚îÇ ‚îÇ 23  ‚îÇ          ‚îÇ
‚îÇ - –¢–∞–π–ª–∞–Ω    ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ - Scanner   ‚îÇ                                           ‚îÇ
‚îÇ - –¢–æ—Ö–∏—Ä–≥–æ–æ  ‚îÇ –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç                     ‚îÇ
‚îÇ             ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ             ‚îÇ ‚îÇ –ö–æ–¥ | –ù—ç—Ä    | –£—Ç–∞—Å | –•—É–≥–∞—Ü–∞–∞      ‚îÇ   ‚îÇ
‚îÇ             ‚îÇ ‚îÇ 12345678 | –ë–æ–ª–¥  | 99112233 | Active ‚îÇ ‚îÇ
‚îÇ             ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## 9. –°–∏—Å—Ç–µ–º–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞ —É–¥–∏—Ä–¥–ª–∞–≥–∞ (License Management)

### Localhost —Å–∏—Å—Ç–µ–º–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞
```javascript
// env —Ñ–∞–π–ª–¥ —Ö—É–≥–∞—Ü–∞–∞ —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
SYSTEM_LICENSE_EXPIRY=2025-12-31
SYSTEM_STATUS=active

// –°–∏—Å—Ç–µ–º–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞ —à–∞–ª–≥–∞—Ö middleware
const checkSystemLicense = (req, res, next) => {
  const expiryDate = new Date(process.env.SYSTEM_LICENSE_EXPIRY);
  const today = new Date();
  
  if (today > expiryDate) {
    return res.status(403).json({
      message: "–°–∏—Å—Ç–µ–º–∏–π–Ω —ç—Ä—Ö –¥—É—É—Å—Å–∞–Ω –±–∞–π–Ω–∞. –õ–∏—Ü–µ–Ω–∑—ç—ç —Å—É–Ω–≥–∞–Ω–∞ —É—É!",
      expired: true
    });
  }
  next();
};
```

### –•—É–≥–∞—Ü–∞–∞ —Å—É–Ω–≥–∞—Ö –∞—Ä–≥—É—É–¥

**1. Superadmin –∞–∞—Ä —Å—É–Ω–≥–∞—Ö (–°–∞–Ω–∞–ª –±–æ–ª–≥–æ–∂ –±–∞–π–Ω–∞)**
```javascript
// Superadmin –ø–∞–Ω–µ–ª–¥ license management —Ö—ç—Å—ç–≥
const extendLicense = async (months) => {
  const currentExpiry = new Date(process.env.SYSTEM_LICENSE_EXPIRY);
  const newExpiry = new Date(currentExpiry);
  newExpiry.setMonth(newExpiry.getMonth() + months);
  
  // .env —Ñ–∞–π–ª—ã–≥ update —Ö–∏–π—Ö
  await updateEnvFile('SYSTEM_LICENSE_EXPIRY', newExpiry.toISOString().split('T')[0]);
  
  // Database-–¥ –ª–æ–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
  await db.query('INSERT INTO system_logs (action, description) VALUES (?, ?)', 
    ['license_extended', `License extended to ${newExpiry.toISOString().split('T')[0]}`]);
};
```

**2. Database –∞–∞—Ä —à—É—É–¥ superadmin –Ω—ç–º—ç—Ö**
```sql
-- Emergency superadmin –Ω—ç–º—ç—Ö (database-–¥ —à—É—É–¥)
INSERT INTO users (username, password, role, created_at) VALUES 
('emergency_admin', '$2b$10$encrypted_password_hash', 'superadmin', NOW());

-- –°–∏—Å—Ç–µ–º–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö“Ø—Å–Ω—ç–≥—Ç
CREATE TABLE system_settings (
  id INT PRIMARY KEY AUTO_INCREMENT,
  setting_key VARCHAR(100) UNIQUE,
  setting_value TEXT,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

INSERT INTO system_settings (setting_key, setting_value) VALUES 
('license_expiry', '2025-12-31'),
('license_status', 'active');
```

**3. Manual activation key —Å–∏—Å—Ç–µ–º**
```javascript
// Activation key “Ø“Ø—Å–≥—ç—Ö (server —Ç–∞–ª–¥)
const generateActivationKey = (months) => {
  const data = {
    months: months,
    timestamp: Date.now(),
    type: 'license_extension'
  };
  
  // –®–∏—Ñ—Ä–ª—ç—Ö
  const encrypted = encrypt(JSON.stringify(data));
  return encrypted; // 32 —Ç—ç–º–¥—ç–≥—Ç—Ç—ç–π activation key
};

// Activation key –∞—à–∏–≥–ª–∞—Ö
const activateLicense = async (activationKey) => {
  try {
    const decrypted = decrypt(activationKey);
    const data = JSON.parse(decrypted);
    
    // –•—É–≥–∞—Ü–∞–∞ —Å—É–Ω–≥–∞—Ö
    await extendSystemLicense(data.months);
    return { success: true };
  } catch (error) {
    return { success: false, message: '–ë—É—Ä—É—É activation key' };
  }
};
```

## 10. Dashboard –±–∞—Ä–∫–æ–¥ scanner

### Real-time –±–∞—Äcode —É–Ω—à—É—É–ª–∞—Ö
```jsx
// Dashboard –¥—ç—ç—Ä—Ö scanner —Ç–∞–ª–±–∞—Ä
const BarcodeScannerField = () => {
  const [scanInput, setScanInput] = useState('');
  const scannerRef = useRef(null);

  useEffect(() => {
    // –ê–≤—Ç–æ–º–∞—Ç focus
    if (scannerRef.current) {
      scannerRef.current.focus();
    }
  }, []);

  const handleScan = async (code) => {
    if (code.length === 8) {
      try {
        const response = await checkUserAccess(code);
        
        if (response.allowed) {
          // –ê–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–≤—Ç—Ä—ç—Ö
          playSuccessSound();
          showSuccessAlert(`${response.user.name} –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–≤—Ç—ç—Ä–ª—ç—ç`);
        } else {
          // –•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω
          playErrorSound();
          showErrorAlert(`${response.user.name}: –•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω –±–∞–π–Ω–∞!`);
        }
        
        setScanInput(''); // Clear input
        scannerRef.current.focus(); // Re-focus for next scan
      } catch (error) {
        playErrorSound();
        showErrorAlert('–•—ç—Ä—ç–≥–ª—ç–≥—á –æ–ª–¥—Å–æ–Ω–≥“Ø–π!');
      }
    }
  };

  return (
    <div className="bg-white rounded-xl shadow-lg p-6">
      <h3 className="text-lg font-semibold mb-4">üîç –ö–∞—Ä—Ç —É–Ω—à—É—É–ª–∞—Ö</h3>
      <input
        ref={scannerRef}
        type="text"
        value={scanInput}
        onChange={(e) => {
          setScanInput(e.target.value);
          if (e.target.value.length === 8) {
            handleScan(e.target.value);
          }
        }}
        placeholder="–ö–∞—Ä—Ç—ã–Ω –∫–æ–¥—ã–≥ —É–Ω—à—É—É–ª–Ω–∞ —É—É..."
        className="w-full p-4 border-2 border-dashed border-blue-300 rounded-lg text-center text-xl font-mono"
        autoFocus
      />
    </div>
  );
};
```

## 11. Loyalty/–•”©–Ω–≥”©–ª”©–ª—Ç–∏–π–Ω —Å–∏—Å—Ç–µ–º

### Database —Å—Ö–µ–º
```sql
-- –•”©–Ω–≥”©–ª”©–ª—Ç–∏–π–Ω —Ç”©—Ä–ª“Ø“Ø–¥
CREATE TABLE discount_types (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100),
  type ENUM('percentage', 'fixed_amount', 'free_days'),
  value DECIMAL(10,2), -- —Ö—É–≤—å —ç—Å–≤—ç–ª –¥“Ø–Ω
  description TEXT,
  is_active BOOLEAN DEFAULT true
);

-- –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö”©–Ω–≥”©–ª”©–ª—Ç
CREATE TABLE user_discounts (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT,
  discount_type_id INT,
  applied_date DATE,
  expiry_date DATE,
  used BOOLEAN DEFAULT false,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (discount_type_id) REFERENCES discount_types(id)
);

-- Loyalty –ø—Ä–æ–≥—Ä–∞–º
CREATE TABLE loyalty_program (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT,
  points_earned INT DEFAULT 0,
  points_used INT DEFAULT 0,
  total_visits INT DEFAULT 0,
  total_payments DECIMAL(10,2) DEFAULT 0,
  membership_months INT DEFAULT 0,
  FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### –•”©–Ω–≥”©–ª”©–ª—Ç–∏–π–Ω –ª–æ–≥–∏–∫
```javascript
// –•”©–Ω–≥”©–ª”©–ª—Ç —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
const calculateDiscount = (originalAmount, discountType) => {
  switch(discountType.type) {
    case 'percentage':
      return originalAmount * (discountType.value / 100);
    case 'fixed_amount':
      return Math.min(discountType.value, originalAmount);
    case 'free_days':
      return 0; // “Æ–Ω—ç–≥“Ø–π ”©–¥”©—Ä
    default:
      return 0;
  }
};

// –ê–≤—Ç–æ–º–∞—Ç —Ö”©–Ω–≥”©–ª”©–ª—Ç –æ–ª–≥–æ—Ö
const autoAssignDiscounts = async (userId, paymentData) => {
  // 1. –û–ª–æ–Ω —Å–∞—Ä–∞–∞—Ä —Ç”©–ª–±”©–ª —Ö”©–Ω–≥”©–ª”©–ª—Ç
  if (paymentData.months >= 6) {
    await assignDiscount(userId, 'multi_month_discount', 10); // 10% —Ö”©–Ω–≥”©–ª”©–ª—Ç
  }
  
  // 2. –®–∏–Ω—ç –≥–∏—à“Ø“Ø–Ω —Ö”©–Ω–≥”©–ª”©–ª—Ç
  const userPayments = await getUserPaymentCount(userId);
  if (userPayments === 1) {
    await assignDiscount(userId, 'new_member_discount', 15); // 15% —Ö”©–Ω–≥”©–ª”©–ª—Ç
  }
  
  // 3. Loyalty points
  await updateLoyaltyPoints(userId, paymentData.amount);
};

// Loyalty points —Å–∏—Å—Ç–µ–º
const updateLoyaltyPoints = async (userId, paymentAmount) => {
  const pointsEarned = Math.floor(paymentAmount / 1000); // 1000‚ÇÆ = 1 point
  
  await db.query(`
    UPDATE loyalty_program 
    SET points_earned = points_earned + ?,
        total_payments = total_payments + ?,
        membership_months = membership_months + ?
    WHERE user_id = ?
  `, [pointsEarned, paymentAmount, 1, userId]);
  
  // Points-—ç—ç—Ä —Ö”©–Ω–≥”©–ª”©–ª—Ç –∞–≤–∞—Ö
  const loyalty = await getLoyaltyData(userId);
  if (loyalty.points_earned >= 10) {
    await assignDiscount(userId, 'loyalty_discount', 20); // 20% —Ö”©–Ω–≥”©–ª”©–ª—Ç
  }
};
```

### –•”©–Ω–≥”©–ª”©–ª—Ç–∏–π–Ω UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```jsx
const DiscountManager = ({ userId }) => {
  const [discounts, setDiscounts] = useState([]);
  const [newDiscount, setNewDiscount] = useState({
    type: 'percentage',
    value: 0,
    description: ''
  });

  const discountTypes = [
    { type: 'percentage', label: '–•—É–≤–∏–∞—Ä —Ö”©–Ω–≥”©–ª”©–ª—Ç', symbol: '%' },
    { type: 'fixed_amount', label: '–¢–æ–≥—Ç–º–æ–ª –¥“Ø–Ω–≥—ç—ç—Ä', symbol: '‚ÇÆ' },
    { type: 'free_days', label: '“Æ–Ω—ç–≥“Ø–π ”©–¥”©—Ä', symbol: '”©–¥”©—Ä' }
  ];

  const applyDiscount = async () => {
    await assignUserDiscount(userId, newDiscount);
    // Refresh discount list
    loadUserDiscounts();
  };

  return (
    <div className="bg-white rounded-lg p-6">
      <h3 className="text-lg font-semibold mb-4">üéÅ –•”©–Ω–≥”©–ª”©–ª—Ç –æ–ª–≥–æ—Ö</h3>
      
      <div className="grid grid-cols-3 gap-4 mb-4">
        <select 
          value={newDiscount.type}
          onChange={(e) => setNewDiscount({...newDiscount, type: e.target.value})}
          className="border rounded-lg p-2"
        >
          {discountTypes.map(type => (
            <option key={type.type} value={type.type}>{type.label}</option>
          ))}
        </select>
        
        <input
          type="number"
          value={newDiscount.value}
          onChange={(e) => setNewDiscount({...newDiscount, value: e.target.value})}
          placeholder="–î“Ø–Ω"
          className="border rounded-lg p-2"
        />
        
        <button
          onClick={applyDiscount}
          className="bg-green-500 text-white rounded-lg px-4 py-2 hover:bg-green-600"
        >
          –û–ª–≥–æ—Ö
        </button>
      </div>
      
      {/* –û–¥–æ–æ –±–∞–π–≥–∞–∞ —Ö”©–Ω–≥”©–ª”©–ª—Ç“Ø“Ø–¥ */}
      <div className="space-y-2">
        {discounts.map(discount => (
          <div key={discount.id} className="flex justify-between items-center p-3 bg-gray-50 rounded">
            <span>{discount.description}</span>
            <span className="font-semibold text-green-600">
              {discount.type === 'percentage' ? `${discount.value}%` : `${discount.value}‚ÇÆ`}
            </span>
          </div>
        ))}
      </div>
    </div>
  );
};
```

## 12. –°–∞–Ω–∞–ª –±–æ–ª–≥–æ–∂ –±—É–π —à–∏–π–¥—ç–ª

**–°–∏—Å—Ç–µ–º–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞:**
- `.env` —Ñ–∞–π–ª–¥ license expiry date —Ö–∞–¥–≥–∞–ª–∞—Ö
- Superadmin –ø–∞–Ω–µ–ª–¥ license —É–¥–∏—Ä–¥–ª–∞–≥—ã–Ω —Ö—ç—Å—ç–≥
- Emergency-–¥ database-–∞–∞—Ä —à—É—É–¥ superadmin –Ω—ç–º—ç—Ö —Å–∫—Ä–∏–ø—Ç

**Loyalty —Å–∏—Å—Ç–µ–º:**
- Points —Å–∏—Å—Ç–µ–º (—Ç”©–ª–±”©—Ä”©”©—Å —Ö–∞–º–∞–∞—Ä—á)
- –ê–≤—Ç–æ–º–∞—Ç —Ö”©–Ω–≥”©–ª”©–ª—Ç (–æ–ª–æ–Ω —Å–∞—Ä, —à–∏–Ω—ç –≥–∏—à“Ø“Ø–Ω)
- Manual —Ö”©–Ω–≥”©–ª”©–ª—Ç –æ–ª–≥–æ—Ö –±–æ–ª–æ–º–∂

–≠–Ω—ç –±“Ø–≥–¥–∏–π–≥ —Ö—ç—Ä—ç–≥–∂“Ø“Ø–ª—ç—Ö—ç–¥ –±—ç–ª—ç–Ω “Ø“Ø? –ê–ª—å —Ö—ç—Å–≥—ç—ç—Å —ç—Ö–ª—ç—Ö –≤—ç?

### Package.json scripts
```json
{
  "scripts": {
    "dev": "nodemon server.js",
    "start": "node server.js", 
    "build": "npm run build:frontend && npm run build:backend",
    "build:frontend": "cd frontend && npm run build",
    "build:backend": "echo 'Backend ready'"
  }
}
```

### Windows –¥—ç—ç—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö
```bash
# 1. MySQL —ç—Ö–ª“Ø“Ø–ª—ç—Ö
net start mysql80

# 2. Backend 
cd fitness-backend
npm install
npm run dev

# 3. Frontend
cd ../fitness-frontend  
npm install
npm start

# 4. Browser –¥—ç—ç—Ä –Ω—ç—ç—Ö
http://localhost:3000
```


























